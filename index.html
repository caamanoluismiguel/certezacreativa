<!DOCTYPE html>
<html lang="es">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Certeza Creativa</title>
  <style>
    @import url('https://fonts.googleapis.com/css2?family=Inter:wght@300;400;500;600;700;800&display=swap');
    
    * { margin: 0; padding: 0; box-sizing: border-box; }
    
    :root {
      --black: #000000;
      --white: #ffffff;
      --gray-100: #f5f5f7;
      --gray-400: #86868b;
      --gray-600: #48484a;
      --accent: #2997ff;
      --purple: #bf5af2;
      --teal: #64d2ff;
      --orange: #ff9f0a;
      --red: #ff453a;
      --green: #30d158;
    }
    
    html, body {
      height: 100%;
      overflow: hidden;
      font-family: 'Inter', -apple-system, BlinkMacSystemFont, sans-serif;
      background: var(--black);
      color: var(--white);
      -webkit-font-smoothing: antialiased;
    }
    
    .presentation { position: relative; width: 100%; height: 100%; }
    
    .slide {
      position: absolute;
      top: 0; left: 0;
      width: 100%; height: 100%;
      display: flex;
      flex-direction: column;
      align-items: center;
      justify-content: center;
      padding: 60px 80px;
      opacity: 0;
      visibility: hidden;
      transition: opacity 0.8s ease, visibility 0.8s ease;
    }
    
    .slide.active { opacity: 1; visibility: visible; }
    
    /* Typography */
    .t-hero {
      font-size: clamp(48px, 9vw, 100px);
      font-weight: 700;
      letter-spacing: -0.025em;
      line-height: 1;
      text-align: center;
    }
    
    .t-headline {
      font-size: clamp(36px, 5.5vw, 64px);
      font-weight: 600;
      letter-spacing: -0.02em;
      line-height: 1.1;
      text-align: center;
    }
    
    .t-title {
      font-size: clamp(24px, 3.5vw, 42px);
      font-weight: 600;
      letter-spacing: -0.01em;
      line-height: 1.2;
      text-align: center;
    }
    
    .t-body {
      font-size: clamp(18px, 2vw, 24px);
      font-weight: 400;
      line-height: 1.5;
      text-align: center;
      color: var(--gray-400);
    }
    
    .t-small {
      font-size: 17px;
      color: var(--gray-400);
      text-align: center;
    }
    
    .t-overline {
      font-size: 13px;
      font-weight: 600;
      letter-spacing: 0.08em;
      text-transform: uppercase;
      color: var(--gray-600);
      margin-bottom: 16px;
    }
    
    /* Colors */
    .c-muted { color: var(--gray-400); }
    .c-dim { color: var(--gray-600); }
    .c-accent { color: var(--accent); }
    .c-purple { color: var(--purple); }
    .c-teal { color: var(--teal); }
    .c-orange { color: var(--orange); }
    .c-red { color: var(--red); }
    .c-green { color: var(--green); }
    
    .c-gradient {
      background: linear-gradient(90deg, var(--purple), var(--accent), var(--teal));
      -webkit-background-clip: text;
      -webkit-text-fill-color: transparent;
    }
    
    /* Spacing */
    .mt-1 { margin-top: 8px; }
    .mt-2 { margin-top: 16px; }
    .mt-3 { margin-top: 24px; }
    .mt-4 { margin-top: 32px; }
    .mt-5 { margin-top: 48px; }
    
    /* Components */
    .stat-value {
      font-size: clamp(72px, 14vw, 160px);
      font-weight: 700;
      letter-spacing: -0.03em;
      line-height: 1;
    }
    
    .door-pill {
      display: inline-flex;
      align-items: center;
      gap: 12px;
      padding: 14px 28px;
      border-radius: 100px;
      background: rgba(255,255,255,0.06);
      border: 1px solid rgba(255,255,255,0.12);
    }
    
    .door-pill .num {
      font-size: 13px;
      font-weight: 600;
      color: var(--gray-600);
    }
    
    .door-pill .name {
      font-size: 18px;
      font-weight: 600;
    }
    
    /* Ecosystem Diagram */
    .ecosystem {
      display: flex;
      flex-direction: column;
      align-items: center;
      gap: 32px;
      width: 100%;
      max-width: 900px;
    }
    
    .ecosystem-row {
      display: flex;
      align-items: center;
      justify-content: center;
      gap: 12px;
    }
    
    .ecosystem-node {
      width: 64px;
      height: 64px;
      border-radius: 16px;
      display: flex;
      align-items: center;
      justify-content: center;
      font-size: 13px;
      font-weight: 700;
      color: white;
      position: relative;
    }
    
    .ecosystem-node span {
      position: absolute;
      bottom: -24px;
      font-size: 11px;
      font-weight: 500;
      color: var(--gray-400);
      white-space: nowrap;
    }
    
    .ecosystem-arrow {
      color: var(--gray-600);
      font-size: 20px;
    }
    
    .ecosystem-label {
      font-size: 12px;
      font-weight: 600;
      letter-spacing: 0.05em;
      text-transform: uppercase;
      color: var(--gray-600);
      margin-bottom: 8px;
    }
    
    .ecosystem-group {
      display: flex;
      flex-direction: column;
      align-items: center;
    }
    
    .ecosystem-amplifiers {
      display: flex;
      gap: 12px;
      padding: 16px 24px;
      background: rgba(255,255,255,0.03);
      border-radius: 16px;
      border: 1px solid rgba(255,255,255,0.06);
    }
    
    .amp-node {
      width: 48px;
      height: 48px;
      border-radius: 12px;
      background: rgba(255,255,255,0.08);
      display: flex;
      align-items: center;
      justify-content: center;
      font-size: 11px;
      font-weight: 600;
      color: var(--gray-400);
    }
    
    /* Flow */
    .flow {
      display: flex;
      align-items: center;
      gap: 16px;
    }
    
    .flow-dot {
      width: 52px;
      height: 52px;
      border-radius: 50%;
      display: flex;
      align-items: center;
      justify-content: center;
      font-size: 13px;
      font-weight: 600;
      background: rgba(255,255,255,0.08);
    }
    
    .flow-line {
      width: 32px;
      height: 2px;
      background: var(--gray-600);
    }
    
    .flow-label {
      position: absolute;
      bottom: -20px;
      font-size: 11px;
      color: var(--gray-400);
    }
    
    .flow-step {
      position: relative;
      display: flex;
      flex-direction: column;
      align-items: center;
    }
    
    /* Steps list */
    .steps {
      display: flex;
      flex-direction: column;
      gap: 20px;
      max-width: 600px;
    }
    
    .step {
      display: flex;
      align-items: flex-start;
      gap: 20px;
      text-align: left;
    }
    
    .step-num {
      width: 36px;
      height: 36px;
      border-radius: 50%;
      background: rgba(255,255,255,0.08);
      display: flex;
      align-items: center;
      justify-content: center;
      font-size: 15px;
      font-weight: 600;
      flex-shrink: 0;
    }
    
    .step-text {
      padding-top: 6px;
    }
    
    .step-title {
      font-size: 18px;
      font-weight: 600;
      margin-bottom: 4px;
    }
    
    .step-desc {
      font-size: 15px;
      color: var(--gray-400);
    }
    
    /* Summary grid */
    .summary-grid {
      display: grid;
      grid-template-columns: repeat(3, 1fr);
      gap: 32px;
      max-width: 800px;
    }
    
    .summary-item {
      text-align: center;
    }
    
    .summary-value {
      font-size: 48px;
      font-weight: 700;
      margin-bottom: 8px;
    }
    
    .summary-label {
      font-size: 14px;
      color: var(--gray-400);
    }
    
    /* Risk/cost of inaction */
    .risk-list {
      display: flex;
      flex-direction: column;
      gap: 16px;
      max-width: 600px;
    }
    
    .risk-item {
      display: flex;
      align-items: center;
      gap: 16px;
      padding: 16px 24px;
      background: rgba(255,69,58,0.08);
      border: 1px solid rgba(255,69,58,0.15);
      border-radius: 12px;
    }
    
    .risk-icon {
      font-size: 20px;
      color: var(--red);
    }
    
    .risk-text {
      font-size: 17px;
      color: var(--gray-100);
    }
    
    /* Controls */
    .progress-bar {
      position: fixed;
      top: 0; left: 0;
      height: 2px;
      background: linear-gradient(90deg, var(--purple), var(--accent));
      width: 0%;
      transition: width 0.3s ease;
      z-index: 100;
    }
    
    .slide-counter {
      position: fixed;
      bottom: 24px;
      right: 32px;
      font-size: 13px;
      color: var(--gray-600);
      font-variant-numeric: tabular-nums;
      z-index: 100;
    }
    
    .controls {
      position: fixed;
      bottom: 24px;
      left: 50%;
      transform: translateX(-50%);
      display: flex;
      align-items: center;
      gap: 6px;
      z-index: 100;
    }
    
    .ctrl-btn {
      width: 40px;
      height: 40px;
      border-radius: 50%;
      background: rgba(255,255,255,0.08);
      border: none;
      color: var(--gray-400);
      cursor: pointer;
      display: flex;
      align-items: center;
      justify-content: center;
      transition: all 0.2s;
    }
    
    .ctrl-btn:hover {
      background: rgba(255,255,255,0.15);
      color: white;
    }
    
    .ctrl-btn.play {
      width: 48px;
      height: 48px;
      background: var(--white);
      color: var(--black);
    }
    
    .ctrl-btn.play:hover {
      transform: scale(1.05);
    }
    
    .ctrl-btn svg {
      width: 18px;
      height: 18px;
      fill: currentColor;
    }
    
    .ctrl-btn.play svg {
      width: 20px;
      height: 20px;
    }
    
    .keys {
      position: fixed;
      bottom: 24px;
      left: 32px;
      font-size: 11px;
      color: var(--gray-600);
      z-index: 100;
    }
    
    .keys kbd {
      padding: 2px 6px;
      background: rgba(255,255,255,0.06);
      border-radius: 4px;
      margin: 0 2px;
    }
    
    /* Responsive */
    @media (max-width: 768px) {
      .slide { padding: 40px 24px; }
      .ecosystem-node { width: 48px; height: 48px; font-size: 11px; }
      .amp-node { width: 36px; height: 36px; font-size: 10px; }
      .summary-grid { grid-template-columns: 1fr; gap: 24px; }
      .keys { display: none; }
    }
  </style>
</head>
<body>

<div class="presentation" id="presentation">
  
  <!-- ========== ACTO 1: GANCHO ========== -->
  
  <div class="slide" data-duration="3500">
    <p class="t-headline c-muted">Una pregunta que nadie hace</p>
  </div>
  
  <div class="slide" data-duration="4000">
    <p class="t-headline">"¿Qué voy a estudiar?"</p>
    <p class="t-body mt-3">— El estudiante</p>
  </div>
  
  <div class="slide" data-duration="3500">
    <p class="t-headline">"¿Tengo lo que se necesita?"</p>
  </div>
  
  <div class="slide" data-duration="4000">
    <p class="t-headline">"¿De qué va a vivir?"</p>
    <p class="t-body mt-3">— Los padres</p>
  </div>
  
  <div class="slide" data-duration="3500">
    <p class="t-headline">"¿Vale la inversión?"</p>
  </div>
  
  <div class="slide" data-duration="4500">
    <p class="t-hero c-red">Incertidumbre</p>
  </div>
  
  <div class="slide" data-duration="4500">
    <p class="t-headline c-muted">No es el precio.</p>
    <p class="t-headline mt-2">Es la duda.</p>
  </div>
  
  <!-- ========== ACTO 2: URGENCIA ========== -->
  
  <div class="slide" data-duration="4000">
    <p class="t-overline">La pregunta</p>
    <p class="t-headline">¿Por qué ahora?</p>
  </div>
  
  <div class="slide" data-duration="5500">
    <p class="t-title c-muted">Cada trimestre que pasa</p>
    <p class="t-title mt-2">sin un sistema...</p>
  </div>
  
  <div class="slide" data-duration="6000">
    <div class="risk-list">
      <div class="risk-item">
        <span class="risk-icon">→</span>
        <span class="risk-text">Leads que no sabemos de dónde vienen</span>
      </div>
      <div class="risk-item">
        <span class="risk-icon">→</span>
        <span class="risk-text">Tiempo invertido en prospectos fríos</span>
      </div>
      <div class="risk-item">
        <span class="risk-icon">→</span>
        <span class="risk-text">Decisiones basadas en intuición, no datos</span>
      </div>
      <div class="risk-item">
        <span class="risk-icon">→</span>
        <span class="risk-text">Oportunidades invisibles de mejora</span>
      </div>
    </div>
  </div>
  
  <!-- ========== ACTO 3: SOLUCIÓN ========== -->
  
  <div class="slide" data-duration="4000">
    <p class="t-headline">¿Y si pudiéramos</p>
    <p class="t-headline c-gradient">eliminar la duda?</p>
  </div>
  
  <div class="slide" data-duration="4500">
    <p class="t-overline">Presentamos</p>
    <p class="t-hero c-gradient">Certeza Creativa</p>
  </div>
  
  <div class="slide" data-duration="5000">
    <p class="t-title">Un sistema que transforma</p>
    <p class="t-title c-purple mt-1">dudas en certezas</p>
  </div>
  
  <div class="slide" data-duration="4500">
    <p class="stat-value c-gradient">8</p>
    <p class="t-body mt-2">puertas de entrada</p>
  </div>
  
  <div class="slide" data-duration="5000">
    <p class="t-title c-muted">Cada miedo</p>
    <p class="t-title mt-1">tiene su puerta</p>
  </div>
  
  <!-- ========== ACTO 4: JOURNEY ESTUDIANTE ========== -->
  
  <div class="slide" data-duration="4000">
    <p class="t-overline">Journey</p>
    <p class="t-headline">El estudiante</p>
  </div>
  
  <div class="slide" data-duration="4500">
    <div class="door-pill">
      <span class="num">P00</span>
      <span class="name c-orange">ADN Creativo</span>
    </div>
    <p class="t-small mt-4">semeocurrioalgo.com</p>
  </div>
  
  <div class="slide" data-duration="5000">
    <p class="t-title c-muted">"¿Qué voy a estudiar?"</p>
    <p class="t-title c-orange mt-3">Descúbrelo en 10 minutos</p>
  </div>
  
  <div class="slide" data-duration="4500">
    <div class="door-pill">
      <span class="num">P01</span>
      <span class="name c-purple">PRUVD</span>
    </div>
    <p class="t-small mt-4">pruvd.app</p>
  </div>
  
  <div class="slide" data-duration="5000">
    <p class="t-title c-muted">"¿Tengo el talento?"</p>
    <p class="t-title c-purple mt-3">Demuéstralo jugando</p>
  </div>
  
  <div class="slide" data-duration="4500">
    <div class="door-pill">
      <span class="num">P02</span>
      <span class="name c-red">Isthmus Labs</span>
    </div>
    <p class="t-small mt-4">Cursos online · 2 horas</p>
  </div>
  
  <div class="slide" data-duration="5000">
    <p class="t-title c-muted">"¿Cómo es estudiar ahí?"</p>
    <p class="t-title c-red mt-3">Pruébalo desde casa</p>
  </div>
  
  <div class="slide" data-duration="4500">
    <div class="door-pill">
      <span class="num">P03</span>
      <span class="name c-teal">PAC</span>
    </div>
    <p class="t-small mt-4">3 medios sábados presenciales</p>
  </div>
  
  <div class="slide" data-duration="5000">
    <p class="t-title c-muted">"¿Encajaré ahí?"</p>
    <p class="t-title c-teal mt-3">Vívelo antes de decidir</p>
  </div>
  
  <!-- ========== ACTO 5: JOURNEY PADRE ========== -->
  
  <div class="slide" data-duration="4000">
    <p class="t-overline">Journey paralelo</p>
    <p class="t-headline">Los padres</p>
  </div>
  
  <div class="slide" data-duration="4500">
    <div class="door-pill">
      <span class="num">P04</span>
      <span class="name c-accent">Carreras con Futuro</span>
    </div>
    <p class="t-small mt-4">carrerasconfuturo.co</p>
  </div>
  
  <div class="slide" data-duration="5000">
    <p class="t-title c-muted">"¿De qué va a vivir?"</p>
    <p class="t-title c-accent mt-3">Datos reales del mercado</p>
  </div>
  
  <div class="slide" data-duration="5000">
    <p class="t-title">Hijo y padre</p>
    <p class="t-title c-gradient mt-1">avanzan sincronizados</p>
  </div>
  
  <!-- ========== ACTO 6: ECOSISTEMA VISUAL ========== -->
  
  <div class="slide" data-duration="4000">
    <p class="t-overline">Vista completa</p>
    <p class="t-headline">El ecosistema</p>
  </div>
  
  <div class="slide" data-duration="8000">
    <div class="ecosystem">
      <div class="ecosystem-group">
        <p class="ecosystem-label">Amplificadores (P05-P07)</p>
        <div class="ecosystem-amplifiers">
          <div class="amp-node">Web</div>
          <div class="amp-node">Social</div>
          <div class="amp-node">Colegios</div>
        </div>
      </div>
      
      <div class="ecosystem-row">
        <p class="t-small c-dim">alimentan →</p>
      </div>
      
      <div class="ecosystem-group">
        <p class="ecosystem-label">Journey Estudiante</p>
        <div class="ecosystem-row">
          <div class="ecosystem-node" style="background: var(--orange);">P00<span>ADN</span></div>
          <span class="ecosystem-arrow">→</span>
          <div class="ecosystem-node" style="background: var(--purple);">P01<span>PRUVD</span></div>
          <span class="ecosystem-arrow">→</span>
          <div class="ecosystem-node" style="background: var(--red);">P02<span>Labs</span></div>
          <span class="ecosystem-arrow">→</span>
          <div class="ecosystem-node" style="background: var(--teal);">P03<span>PAC</span></div>
          <span class="ecosystem-arrow">→</span>
          <div class="ecosystem-node" style="background: var(--green);">✓<span>Certeza</span></div>
        </div>
      </div>
      
      <div class="ecosystem-row">
        <p class="t-small c-dim">↑ sincronizado ↓</p>
      </div>
      
      <div class="ecosystem-group">
        <p class="ecosystem-label">Journey Padre</p>
        <div class="ecosystem-row">
          <div class="ecosystem-node" style="background: var(--accent);">P04<span>Carreras</span></div>
        </div>
      </div>
    </div>
  </div>
  
  <!-- ========== ACTO 7: AMPLIFICADORES Y EVENTOS ========== -->
  
  <div class="slide" data-duration="5000">
    <p class="t-overline">Amplificadores</p>
    <p class="t-headline">Puertas 05, 06, 07</p>
    <p class="t-body mt-4">Web institucional · Redes sociales · Alianzas con colegios</p>
  </div>
  
  <div class="slide" data-duration="5000">
    <p class="t-overline">Eventos</p>
    <p class="t-headline">Días de Diseño</p>
    <p class="t-body mt-3">Visitas a colegios con el ecosistema completo</p>
  </div>
  
  <div class="slide" data-duration="5000">
    <p class="t-overline">Evento anual · Noviembre</p>
    <p class="t-headline">Isthmus Diseña</p>
  </div>
  
  <!-- ========== ACTO 8: RESUMEN ========== -->
  
  <div class="slide" data-duration="5500">
    <p class="t-overline">Resumen</p>
    <div class="summary-grid mt-4">
      <div class="summary-item">
        <p class="summary-value c-gradient">8</p>
        <p class="summary-label">Puertas</p>
      </div>
      <div class="summary-item">
        <p class="summary-value c-gradient">2</p>
        <p class="summary-label">Eventos</p>
      </div>
      <div class="summary-item">
        <p class="summary-value c-gradient">1</p>
        <p class="summary-label">Sistema integrado</p>
      </div>
    </div>
  </div>
  
  <!-- ========== ACTO 9: BENEFICIOS ========== -->
  
  <div class="slide" data-duration="4000">
    <p class="t-overline">Beneficios</p>
    <p class="t-headline">Qué ganamos</p>
  </div>
  
  <div class="slide" data-duration="5000">
    <p class="t-headline c-accent">Visibilidad</p>
    <p class="t-body mt-3">Sabremos de dónde viene cada contacto</p>
  </div>
  
  <div class="slide" data-duration="5000">
    <p class="t-headline c-green">Validación</p>
    <p class="t-body mt-3">Leads llegan con interés demostrado</p>
  </div>
  
  <div class="slide" data-duration="5000">
    <p class="t-headline c-purple">Optimización</p>
    <p class="t-body mt-3">Decisiones basadas en datos reales</p>
  </div>
  
  <div class="slide" data-duration="5000">
    <p class="t-headline c-teal">Mejora continua</p>
    <p class="t-body mt-3">El sistema aprende cada semestre</p>
  </div>
  
  <!-- ========== ACTO 10: ESTADO ACTUAL ========== -->
  
  <div class="slide" data-duration="4000">
    <p class="t-overline">Estado actual</p>
    <p class="t-headline">¿Dónde estamos?</p>
  </div>
  
  <div class="slide" data-duration="5000">
    <p class="t-title c-green">✓ Diseño del sistema completo</p>
  </div>
  
  <div class="slide" data-duration="5000">
    <p class="t-title c-green">✓ Prototipos listos para probar</p>
  </div>
  
  <div class="slide" data-duration="5000">
    <p class="t-title c-muted">○ Validación con usuarios reales</p>
  </div>
  
  <div class="slide" data-duration="5000">
    <p class="t-title c-muted">○ Cotización de implementación</p>
  </div>
  
  <!-- ========== ACTO 11: PRÓXIMOS PASOS ========== -->
  
  <div class="slide" data-duration="4000">
    <p class="t-overline">Propuesta</p>
    <p class="t-headline">Próximos pasos</p>
  </div>
  
  <div class="slide" data-duration="8000">
    <div class="steps">
      <div class="step">
        <div class="step-num">1</div>
        <div class="step-text">
          <p class="step-title">Piloto de validación</p>
          <p class="step-desc">Probar prototipos con usuarios reales</p>
        </div>
      </div>
      <div class="step">
        <div class="step-num">2</div>
        <div class="step-text">
          <p class="step-title">Medir resultados</p>
          <p class="step-desc">¿Funciona? ¿Qué ajustar?</p>
        </div>
      </div>
      <div class="step">
        <div class="step-num">3</div>
        <div class="step-text">
          <p class="step-title">Cotizar con datos</p>
          <p class="step-desc">Inversión basada en scope validado</p>
        </div>
      </div>
      <div class="step">
        <div class="step-num">4</div>
        <div class="step-text">
          <p class="step-title">Decidir informados</p>
          <p class="step-desc">No supuestos. Evidencia real.</p>
        </div>
      </div>
    </div>
  </div>
  
  <!-- ========== ACTO 12: CIERRE ========== -->
  
  <div class="slide" data-duration="5000">
    <p class="t-headline c-muted">No prometemos números</p>
  </div>
  
  <div class="slide" data-duration="5500">
    <p class="t-title c-muted">Prometemos un sistema para</p>
    <p class="t-headline c-gradient mt-2">ver, medir y mejorar</p>
  </div>
  
  <div class="slide" data-duration="5000">
    <p class="t-title">El diseño existe.</p>
    <p class="t-title mt-1">Los prototipos están listos.</p>
  </div>
  
  <div class="slide" data-duration="6000">
    <p class="t-hero c-gradient">¿Probamos?</p>
  </div>
  
</div>

<!-- Progress -->
<div class="progress-bar" id="progressBar"></div>

<!-- Counter -->
<div class="slide-counter" id="slideCounter">1 / 54</div>

<!-- Keys -->
<div class="keys"><kbd>→</kbd> sig · <kbd>←</kbd> ant · <kbd>espacio</kbd> play</div>

<!-- Controls -->
<div class="controls">
  <button class="ctrl-btn" id="prevBtn">
    <svg viewBox="0 0 24 24"><path d="M15.41 7.41L14 6l-6 6 6 6 1.41-1.41L10.83 12z"/></svg>
  </button>
  <button class="ctrl-btn play" id="playBtn">
    <svg viewBox="0 0 24 24" id="playIcon"><path d="M8 5v14l11-7z"/></svg>
  </button>
  <button class="ctrl-btn" id="nextBtn">
    <svg viewBox="0 0 24 24"><path d="M10 6L8.59 7.41 13.17 12l-4.58 4.59L10 18l6-6z"/></svg>
  </button>
</div>


<!-- Audio narration -->
<audio id="narrationAudio" preload="auto">
  <source src="https://raw.githubusercontent.com/caamanoluismiguel/certezacreativa/main/audio.mpeg" type="audio/mpeg">
</audio>

<script>
  const slides = document.querySelectorAll('.slide');
  const progressBar = document.getElementById('progressBar');
  const slideCounter = document.getElementById('slideCounter');
  const playBtn = document.getElementById('playBtn');
  const playIcon = document.getElementById('playIcon');
  const narrationAudio = document.getElementById('narrationAudio');
  
  let current = 0, playing = false;
  const playPath = 'M8 5v14l11-7z', pausePath = 'M6 19h4V5H6v14zm8-14v14h4V5h-4z';
  
  // Timestamps sincronizados con la duración del audio (364 segundos)
  const timestamps = [0.0, 6.75, 13.5, 20.25, 27.0, 33.75, 40.5, 47.24, 53.99, 60.74, 67.49, 74.24, 80.99, 87.74, 94.49, 101.24, 107.99, 114.74, 121.49, 128.24, 134.99, 141.73, 148.48, 155.23, 161.98, 168.73, 175.48, 182.23, 188.98, 195.73, 202.48, 209.23, 215.98, 222.73, 229.47, 236.22, 242.97, 249.72, 256.47, 263.22, 269.97, 276.72, 283.47, 290.22, 296.97, 303.72, 310.47, 317.22, 323.96, 330.71, 337.46, 344.21, 350.96, 357.71];
  
  function show(i) {
    if (i < 0 || i >= slides.length) return;
    slides.forEach((s, idx) => s.classList.toggle('active', idx === i));
    current = i;
    progressBar.style.width = ((i + 1) / slides.length * 100) + '%';
    slideCounter.textContent = `${i + 1} / ${slides.length}`;
  }
  
  function syncToAudio() {
    const currentTime = narrationAudio.currentTime;
    
    // Encontrar la slide correspondiente al tiempo actual
    let targetSlide = 0;
    for (let i = timestamps.length - 1; i >= 0; i--) {
      if (currentTime >= timestamps[i]) {
        targetSlide = i;
        break;
      }
    }
    
    if (targetSlide !== current) {
      show(targetSlide);
    }
  }
  
  function next() {
    if (current < slides.length - 1) {
      const nextSlide = current + 1;
      show(nextSlide);
      if (playing && narrationAudio) {
        narrationAudio.currentTime = timestamps[nextSlide];
      }
    }
  }
  
  function prev() {
    if (current > 0) {
      const prevSlide = current - 1;
      show(prevSlide);
      if (playing && narrationAudio) {
        narrationAudio.currentTime = timestamps[prevSlide];
      }
    }
  }
  
  function play() { 
    playing = true; 
    playIcon.innerHTML = `<path d="${pausePath}"/>`; 
    if (narrationAudio) {
      narrationAudio.currentTime = timestamps[current];
      narrationAudio.play().catch(err => console.error('Error playing audio:', err));
    }
  }
  
  function stop() { 
    playing = false; 
    playIcon.innerHTML = `<path d="${playPath}"/>`; 
    if (narrationAudio) {
      narrationAudio.pause();
    }
  }
  
  function toggle() { playing ? stop() : play(); }
  
  // Sincronizar con el audio mientras se reproduce
  if (narrationAudio) {
    narrationAudio.addEventListener('timeupdate', () => {
      if (playing) {
        syncToAudio();
      }
    });
    
    narrationAudio.addEventListener('ended', () => {
      stop();
    });
  }
  
  document.getElementById('playBtn').onclick = toggle;
  document.getElementById('prevBtn').onclick = () => { stop(); prev(); };
  document.getElementById('nextBtn').onclick = () => { stop(); next(); };
  
  document.onkeydown = (e) => {
    if (e.key === 'ArrowRight') { stop(); next(); }
    else if (e.key === 'ArrowLeft') { stop(); prev(); }
    else if (e.key === ' ') { e.preventDefault(); toggle(); }
  };
  
  show(0);
</script>

</body>
</html>
